<script>
    console.log("Hello world!");

    function getComputerChoice() {
        choice = Math.floor(Math.random()*3);
        console.log("Choice = " + choice);
        if (choice == 0) {
            return "rock";
        } else if (choice == 1) {
            return "paper";
        } else if (choice == 2) {
            return "scissors";
        }
    }

    function getHumanChoice() {
        choice = prompt("Rock, Paper, or Scissors?");
        choice = choice.toLowerCase();
        if (choice == "rock" || choice == "paper" || choice == "scissors") {
            return choice;
        } else {
            console.log("Choice not valid, try again.");
            return getHumanChoice();
        }
    }

    function playGame() {
        humanScore = 0;
        computerScore = 0;
        round = 0;

        function playRound(humanChoice, computerChoice) { 
        if (humanChoice == "rock" && computerChoice == "scissors" ||
            humanChoice == "paper" && computerChoice == "rock" ||
            humanChoice == "scissors" && computerChoice == "paper") {
                console.log(`You win, ${humanChoice} + beats ${computerChoice}!`);
                humanScore += 1;
            } else if (humanChoice == "rock" && computerChoice == "paper" ||
                humanChoice == "paper" && computerChoice == "scissors" ||
                humanChoice == "scissors" && computerChoice == "rock") {
                    console.log(`Computer wins, ${computerChoice} beats ${humanChoice}.`);
                    computerScore += 1;
            } else if (humanChoice == "rock" && computerChoice == "rock" ||
                humanChoice == "paper" && computerChoice == "paper" ||
                humanChoice == "scissors" && computerChoice == "scissors") {
                    console.log(`It's a tie! Both players picked: ${humanChoice}`);
            }
        }
        while (round < 5) {
            let humanSelection = getHumanChoice();
            let computerSelection = getComputerChoice();
            console.log("Computer: " + computerSelection);
            console.log("Human: " + humanSelection);
            playRound(humanSelection, computerSelection);
            round += 1;
            console.log(`Round: ${round}`)
        }
        if (round == 5) {
            console.log(`Final Score - You: ${humanScore}, Computer: ${computerScore}`)
            if (humanScore > computerScore) {
                console.log("You win the game!");
            } else if (humanScore < computerScore) {
                console.log("You lose. Computer wins the game.");
            } else if (humanScore == computerScore) {
                console.log("It's a tie!")
            }
        }
    }

    playGame();
</script>